# ==============================================================================
# SpectraMind V50 — Git Attributes for DVC Integration
# ------------------------------------------------------------------------------
# Purpose:
#   • Normalize text file handling across platforms (LF endings, no CRLF drift)
#   • Ensure all DVC-managed data/artifacts bypass Git LFS & diff/merge filters
#   • Restrict Git LFS use to docs/media assets only (never pipeline data)
#   • Provide CI- and Kaggle-safe reproducibility with clean diffs and merges
# ==============================================================================

# ───────────────────────── Core Defaults ─────────────────────────
* text=auto eol=lf          # Normalize all text → LF endings

# Common text-based formats (always treated as text)
*.md      text
*.txt     text
*.csv     text
*.tsv     text
*.json    text
*.yaml    text
*.yml     text
*.toml    text
*.ini     text
*.py      text
*.sh      text
*.ipynb   text

# DVC pipeline metadata (always text, never LFS)
dvc.yaml     text
*.dvc        text
.dvcignore   text

# ───────────────────────── DVC-Managed Data/Artifacts ─────────────────────────
# Explicitly disable Git LFS, diff, and merge drivers on DVC-tracked paths.
# These are versioned via DVC (pointer files in Git, blobs in cache/remote).
data/**        -filter -diff -merge
outputs/**     -filter -diff -merge
models/**      -filter -diff -merge
artifacts/**   -filter -diff -merge
logs/**        -filter -diff -merge
.dvc/**        -filter -diff -merge

# ───────────────────────── Optional: Git LFS for Docs/Media ───────────────────
# Safe for human-facing assets only. NOT used for pipeline data.
# Enable with:   git lfs install
docs/**/*.{png,jpg,jpeg,gif,webp,svg} filter=lfs diff=lfs merge=lfs -text
docs/**/*.{pdf,mp4,mov,avi}           filter=lfs diff=lfs merge=lfs -text

# Optional: allow LFS for large images in site/ (e.g., dashboards, docs site)
site/**/*.{png,jpg,jpeg,gif,webp,svg} filter=lfs diff=lfs merge=lfs -text

# ───────────────────────── Safety Rails ─────────────────────────
# Never let Git LFS intercept DVC or config files.
*.dvc          -filter -diff -merge
dvc.yaml       -filter -diff -merge
.dvc/config    -filter -diff -merge

# ==============================================================================
# Notes:
# • Keep this file at repo root as `.gitattributes`
# • Pipeline data (data/, outputs/, models/, etc.) MUST stay under DVC
# • Only use Git LFS for docs/media; never for scientific pipeline artifacts
# • Guarantees clean diffs, no accidental binary pollution in Git history
# ==============================================================================