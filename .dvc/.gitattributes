# ==============================================================================
# SpectraMind V50 — Git Attributes for DVC Integration (Ultimate, Mission-Grade)
# ------------------------------------------------------------------------------
# Purpose:
# • Normalize text handling (LF; avoid CRLF drift across OSes)
# • Ensure DVC-managed data/artifacts are NOT intercepted by Git LFS, diff, or merge
# • Restrict Git LFS usage to human-facing docs/media only (never pipeline data)
# • Keep CI/Kaggle merges clean and reproducible
#
# Placement:
# Save at repo root as `.gitattributes`
# ==============================================================================

# ─────────────── Core Defaults ───────────────
* text=auto eol=lf

# Always treat these as text
*.md      text
*.txt     text
*.csv     text
*.tsv     text
*.json    text
*.jsonl   text
*.yaml    text
*.yml     text
*.toml    text
*.ini     text
*.cfg     text
*.conf    text
*.py      text
*.pyi     text
*.ipynb   text
*.sh      text
*.bash    text
*.zsh     text
*.mmd     text
Makefile  text
*.mk      text
Dockerfile text

# ─────────────── DVC Metadata (ALWAYS text; NEVER LFS) ───────────────
dvc.yaml      text -filter
dvc.lock      text -filter
*.dvc         text -filter
.dvcignore    text -filter
.dvc/config   text -filter
.dvc/*        text -filter

# ─────────────── DVC-Managed Data/Artifacts (NO diff/merge/LFS) ───────────────
data/**        -filter -diff -merge -text
outputs/**     -filter -diff -merge -text
models/**      -filter -diff -merge -text
artifacts/**   -filter -diff -merge -text
logs/**        -filter -diff -merge -text
diagnostics/** -filter -diff -merge -text
predictions/** -filter -diff -merge -text
submission/**  -filter -diff -merge -text
submissions/** -filter -diff -merge -text
aggregated/**  -filter -diff -merge -text
benchmarks/**  -filter -diff -merge -text

# Scientific binary formats (always DVC, never LFS)
*.npz    -filter -diff -merge -text
*.npy    -filter -diff -merge -text
*.pt     -filter -diff -merge -text
*.pth    -filter -diff -merge -text
*.onnx   -filter -diff -merge -text
*.ckpt   -filter -diff -merge -text
*.h5     -filter -diff -merge -text
*.hd5    -filter -diff -merge -text
*.hdf5   -filter -diff -merge -text
*.fits   -filter -diff -merge -text
*.fz     -filter -diff -merge -text
*.parquet -filter -diff -merge -text
*.feather -filter -diff -merge -text
*.gz     -filter -diff -merge -text
*.xz     -filter -diff -merge -text
*.zip    -filter -diff -merge -text
*.tar    -filter -diff -merge -text
*.tar.gz -filter -diff -merge -text

# ─────────────── Git LFS (Docs/Media ONLY) ───────────────
# Enable with `git lfs install`
docs/**/ *.png   filter=lfs diff=lfs merge=lfs -text
docs/**/ *.jpg   filter=lfs diff=lfs merge=lfs -text
docs/**/ *.jpeg  filter=lfs diff=lfs merge=lfs -text
docs/**/ *.gif   filter=lfs diff=lfs merge=lfs -text
docs/**/ *.webp  filter=lfs diff=lfs merge=lfs -text
docs/**/ *.svg   filter=lfs diff=lfs merge=lfs -text
docs/**/ *.pdf   filter=lfs diff=lfs merge=lfs -text
docs/**/ *.mp4   filter=lfs diff=lfs merge=lfs -text
docs/**/ *.mov   filter=lfs diff=lfs merge=lfs -text
docs/**/ *.avi   filter=lfs diff=lfs merge=lfs -text

site/**/ *.{png,jpg,jpeg,gif,webp,svg,pdf,mp4,mov,avi} filter=lfs diff=lfs merge=lfs -text
outputs/diagrams/**/ *.{png,svg} filter=lfs diff=lfs merge=lfs -text

# ─────────────── Safety Rails ───────────────
# Prevent LFS/diff/merge on pipeline-critical files
*.dvc         -filter -diff -merge
dvc.yaml      -filter -diff -merge
dvc.lock      -filter -diff -merge
.dvc/config   -filter -diff -merge
.gitattributes -filter -diff -merge
.gitignore    -filter -diff -merge

# Lock files: keep text, disable custom merges
poetry.lock        text -filter -diff -merge
package-lock.json  text -filter -diff -merge
yarn.lock          text -filter -diff -merge
Pipfile.lock       text -filter -diff -merge

# Kaggle mount points (always DVC, never Git/LFS)
kaggle_work/**     -filter -diff -merge -text
kaggle_output/**   -filter -diff -merge -text
/kaggle/working/** -filter -diff -merge -text
/kaggle/temp/**    -filter -diff -merge -text

# ─────────────── GitHub Linguist Hints ───────────────
# Keep repo language stats focused on source, not generated files
outputs/**        linguist-generated
benchmarks/**     linguist-generated
aggregated/**     linguist-generated
docs/site/**      linguist-generated
diagrams/out/**   linguist-generated
diagrams/build/** linguist-generated

# ==============================================================================