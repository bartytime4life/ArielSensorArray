üõ∞Ô∏è SpectraMind V50 ‚Äî Pull Request Template

Fill out every section. If something doesn‚Äôt apply, write ‚ÄúN/A‚Äù and explain why. This template enforces our NASA‚Äëgrade reproducibility, physics‚Äëinformed modeling, and CLI‚Äëfirst standards for the NeurIPS Ariel Data Challenge.

‚∏ª

1) Title & Issue Links

PR Title:

<!-- concise, imperative: e.g., ‚ÄúAdd COREL edge‚Äëfeature GNN and calibrator hooks‚Äù -->


Closes:
	‚Ä¢	#ISSUE_ID
	‚Ä¢	(Optional) External link(s):

‚∏ª

2) Summary (What & Why)

What changed (1‚Äì3 sentences):

<!-- high‚Äëlevel overview -->


Why (problem / motivation):

<!-- scientific/engineering rationale; expected impact on Œº/œÉ accuracy, GLL, calibration, or runtime -->


Scope:
	‚Ä¢	Code
	‚Ä¢	Configs (Hydra)
	‚Ä¢	Data pipeline / calibration
	‚Ä¢	Diagnostics / dashboard
	‚Ä¢	Docs
	‚Ä¢	CI / infra
	‚Ä¢	Other:

‚∏ª

3) Design & Reproducibility

3.1 CLI Invocation(s)

<!-- Copy‚Äëpaste the exact commands you ran (no paraphrasing). Use the unified Typer CLI. -->


# examples
spectramind selftest --deep
spectramind calibrate --config-name=config_v50 yaml_path=configs/config_v50.yaml
spectramind train --config-name=config_v50 +training.seed=1337
spectramind predict --out-csv outputs/submission.csv
spectramind diagnose dashboard --open-html

3.2 Hydra Config Diffs

<!-- Paste minimal, focused diffs (before ‚Üí after). If new files, list them. -->


# configs/model/v50.yaml
- decoder.head: "gaussian"
+ decoder.head: "gaussian_corel"
+ corel:
+   enable: true
+   edge_features: ["wavelength_dist", "molecule", "detector_region"]

New/Changed config files:
	‚Ä¢	configs/...
	‚Ä¢	configs/...

3.3 Data & Artifacts (DVC)
	‚Ä¢	New/updated DVC stage(s) in dvc.yaml
	‚Ä¢	dvc repro succeeds locally with this PR
	‚Ä¢	Large artifacts tracked (.dvc) and remote pushed (no binaries in Git)

Stages touched: calibrate, train, predict, diagnose
New outputs: outputs/... (size, purpose)

‚∏ª

4) Scientific Integrity & Diagnostics

4.1 Metrics (attach numbers)

Metric	Baseline (commit/hash)	This PR	Œî
Public GLL (val)			
Private GLL (if known)			
Mean abs. error (Œº)			
Calibration (z‚Äëscore mean‚âà0, std‚âà1)			
Coverage@95% (COREL/œÉ)			
Runtime (planet avg)			

Provide: seed(s), dataset split, exact command(s). Do not cherry‚Äëpick runs.

4.2 Plots / Reports
	‚Ä¢	Dashboard HTML produced: outputs/diagnostics/report_vX.html
	‚Ä¢	UMAP/t‚ÄëSNE overlays updated
	‚Ä¢	GLL per‚Äëbin heatmap / calibration plots
	‚Ä¢	FFT / smoothness diagnostics

Attach key images or link the HTML artifact generated by spectramind diagnose dashboard.

4.3 Symbolic / Physics Checks
	‚Ä¢	Symbolic loss trend unchanged or improved
	‚Ä¢	Smoothness / spectral priors respected
	‚Ä¢	No new rule‚Äëviolation hot spots
	‚Ä¢	Nonnegativity / physical constraints preserved

Explain any degradation and rationale:

‚∏ª

5) Backward Compatibility & Risk

Breaking changes:
	‚Ä¢	CLI flags
	‚Ä¢	File/dir layout
	‚Ä¢	Config schema
	‚Ä¢	Model checkpoints

Migration notes:

<!-- how existing users update; provide one‚Äëcommand recipe -->


Risk assessment:
	‚Ä¢	Impact: Low / Medium / High
	‚Ä¢	Mitigations: tests, feature flags, rollout plan

‚∏ª

6) Tests & Validation
	‚Ä¢	Unit tests added/updated (pytest): list files
	‚Ä¢	CLI self‚Äëtests: spectramind selftest --fast and --deep both pass
	‚Ä¢	Pipeline sanity (toy data): make ci-smoke or equivalent passes
	‚Ä¢	Repro run: same config + seed reproduces within expected tolerance
	‚Ä¢	Determinism where required (seeded loaders, RNGs)

Paste test logs (trimmed) or attach artifact links.

‚∏ª

7) Performance & Runtime Budget

Target: ‚â§ 9h end‚Äëto‚Äëend / ~1100 planets (Kaggle envelope)
	‚Ä¢	No pathological slowdowns (per‚Äëplanet wall time)
	‚Ä¢	Memory within container limit
	‚Ä¢	Vectorization / batching respected
	‚Ä¢	Optional flags (--fast-dev-run, caching) documented

Numbers (machine, GPU, container, batch size):

‚∏ª

8) Security & Compliance
	‚Ä¢	No secrets/keys in code or configs
	‚Ä¢	Licenses respected; attributions updated
	‚Ä¢	No PII; synthetic/competition data only

‚∏ª

9) Docs
	‚Ä¢	README.md updated (usage, examples)
	‚Ä¢	Module docstrings & type hints added
	‚Ä¢	CLI --help text accurate and descriptive
	‚Ä¢	New configs documented (inline comments)

‚∏ª

10) Checklist ‚Äî Author
	‚Ä¢	I ran the exact CLI(s) listed above and verified outputs.
	‚Ä¢	I captured Hydra configs and seeds; runs are reproducible.
	‚Ä¢	I updated DVC and pushed large artifacts.
	‚Ä¢	I added/updated tests and verified selftest passes.
	‚Ä¢	I produced diagnostics (HTML/plots) and reviewed them.
	‚Ä¢	I updated docs/help strings.
	‚Ä¢	I followed code style (ruff/black/isort) and pre‚Äëcommit hooks.
	‚Ä¢	I updated the changelog (if applicable).

Author: @your‚Äëhandle
Date: YYYY‚ÄëMM‚ÄëDD

‚∏ª

11) Checklist ‚Äî Reviewer
	‚Ä¢	Clear problem statement and rationale
	‚Ä¢	Reproducible commands + configs; seeds included
	‚Ä¢	Tests sufficient; failure modes considered
	‚Ä¢	No silent behavior changes or hidden flags
	‚Ä¢	Metrics credible; no regression in GLL/calibration without justification
	‚Ä¢	Runtime/memory acceptable; no obvious perf anti‚Äëpatterns
	‚Ä¢	Code quality: typing, docs, logging, errors handled
	‚Ä¢	DVC/CI/Makefile hooks aligned; no binary blobs in Git
	‚Ä¢	Physics/symbolic constraints respected
	‚Ä¢	Approve only when all boxes above are satisfied

Reviewer: @handle ‚Äî Approve / Request changes / Comment

‚∏ª

12) Post‚ÄëMerge Tasks (Owner)
	‚Ä¢	Kick CI pipeline on main
	‚Ä¢	Tag run hash / update release notes
	‚Ä¢	Backfill dashboard / publish artifacts (if needed)
	‚Ä¢	Notify stakeholders / update tracking issue

‚∏ª

Appendix A ‚Äî Bench Run Log (paste raw)

# Console snippet: CLI call ‚Üí Hydra config ‚Üí hash ‚Üí metrics
# (Keep this small but exact; store full logs in logs/v50_debug_log.md)

Appendix B ‚Äî Config Snapshot

# Paste the exact composed Hydra config (OmegaConf.to_yaml) for the main run

<!--
Notes for contributors:

‚Ä¢ Use the unified Typer CLI for every operation; do not script around it.
‚Ä¢ Treat configs as code (Hydra groups/overrides). Capture the composed config in this PR.
‚Ä¢ Version large data and models with DVC; never commit binaries to Git.
‚Ä¢ Diagnostics are first‚Äëclass: produce the HTML dashboard and key plots for every model change.
‚Ä¢ Physics and symbolic constraints are not optional ‚Äî explain deviations.

-->
