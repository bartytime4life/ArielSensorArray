# configs/logger/wandb.yaml
# ==============================================================================
# üåê Weights & Biases (W&B) Logger ‚Äî SpectraMind V50
#
# Purpose
#   Configure Weights & Biases experiment tracking for training/diagnostics.
#   Provides reproducible, CLI-first logging of metrics, configs, artifacts,
#   and model checkpoints, with Kaggle/CI guardrails.
#
# Usage
#   In train.yaml:
#     defaults:
#       - logger: wandb
#
#   CLI override examples:
#     spectramind train logger=wandb logger.wandb.project=SpectraMindV50
#     spectramind train logger.wandb.offline=true
#
# Notes
#   ‚Ä¢ Kaggle submissions must run offline (no internet).
#   ‚Ä¢ Logs/metrics are mirrored to logs/v50_debug_log.md for audit.
#   ‚Ä¢ Enable only when WANDB_API_KEY is set or offline=true.
#   ‚Ä¢ Hydra-safe: override any field with `logger.wandb.<field>=<value>`.
# ==============================================================================

wandb:
  enabled: true                     # Master switch

  # Project metadata
  project: "SpectraMindV50"         # W&B project name
  entity: null                      # Optional team/user account
  name: null                        # Run name (default = timestamp + hash)
  group: null                       # Optional run group
  tags: []                          # Optional list of tags
  notes: ""                         # Freeform notes

  # Mode & connectivity
  offline: false                    # Force offline mode
  mode: "online"                    # online | offline | disabled
  dryrun: false                     # True = init but don't sync

  # Artifacts & config sync
  save_code: true                   # Upload code snapshot (git SHA)
  save_config: true                 # Upload merged Hydra config
  log_model: true                   # Upload trained model artifacts
  sync_tensorboard: true            # Mirror TB logs into W&B

  # Metric cadence
  log_freq: 50                      # Log every N steps
  flush_secs: 30                    # Flush metrics every N seconds

  # Audit integration
  audit_log_path: "logs/v50_debug_log.md"   # Mirror key W&B events here

  # Kaggle runtime guardrails
  kaggle_safe:
    enabled: true
    offline: true                   # Always offline in Kaggle
    mode: "offline"
    log_model: false                # Don‚Äôt upload models (disk only)
    save_code: true                 # Still snapshot code locally
    save_config: true

  # CI guardrails (disable for smoke/fast tests)
  ci_fast:
    enabled: false                  # No W&B logging in CI fast runs
    mode: "disabled"

  # Optional MLflow bridging (future extensibility)
  mlflow_bridge:
    enabled: false
    sync_metrics: false
    experiment: null
