# ==============================================================================
# âš™ï¸ DataLoader Workers â€” Validation (v1.2)
# ------------------------------------------------------------------------------
# Purpose
#   â€¢ Configure number of worker threads for validation dataloaders.
#   â€¢ Validation is less frequent; determinism and stability are prioritized
#     over raw throughput.
# ------------------------------------------------------------------------------
# Trade-offs
#   â€¢ âœ… Stability: Lower worker count reduces concurrency issues.
#   â€¢ ğŸ”’ Reproducibility: num_workers=0 ensures identical sample order in CI.
#   â€¢ âš¡ Speed: Higher worker counts may speed up validation, but rarely critical
#     since val runs only once per epoch/checkpoint.
# ==============================================================================

num_workers: 2   # conservative default for Kaggle/HPC validation

# ------------------------------------------------------------------------------
# Extended Controls (optional, if supported by runner/trainer)
# ------------------------------------------------------------------------------
# prefetch_factor: 2        # number of batches prefetched per worker (default=2)
# persistent_workers: true  # keep workers alive between validation passes
# pin_memory: true          # speed up GPU transfers by pinning host memory

# ------------------------------------------------------------------------------
# ğŸ““ Notes
# ------------------------------------------------------------------------------
notes: |
  Validation dataloader workers.

  â€¢ Use fewer workers for stability (validation is not throughput-critical).
  â€¢ Use 0 for CI regression tests â†’ guarantees identical sample ordering.
  â€¢ 2 workers is a safe default for Kaggle/HPC (stable + efficient).
  â€¢ Increase cautiously (e.g. 4) on HPC if validation dataset is very large.
  â€¢ Keep deterministic sampling for checkpoint gating and reproducibility audits.
