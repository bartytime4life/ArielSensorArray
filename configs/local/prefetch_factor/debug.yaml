# ==============================================================================
# üêû Prefetch Factor ‚Äî Debug / Low-Memory
# ------------------------------------------------------------------------------
# Purpose:
#   ‚Ä¢ Conservative prefetching for debugging or memory-constrained runs.
#   ‚Ä¢ Minimizes memory pressure when inspecting small jobs interactively.
#   ‚Ä¢ Recommended for CI smoke tests or step-through debugging.
# ==============================================================================

prefetch_factor: 1              # each worker preloads only 1 batch
persistent_workers: false       # reset workers each epoch (safer for debugging)

notes: |
  Debug / Low-Memory mode:
  ‚Ä¢ Each DataLoader worker preloads only 1 batch at a time ‚Üí lowest RAM usage.
  ‚Ä¢ Simplifies reproducibility (e.g., PyTorch breakpoints hit consistently).
  ‚Ä¢ Persistent workers disabled: workers restart each epoch, avoiding stale state.
  ‚Ä¢ Slower throughput expected, but prevents memory spikes on small GPUs/CPUs.
  ‚Ä¢ Use in combination with `data.num_workers=0` for minimal-resource CI runs.
