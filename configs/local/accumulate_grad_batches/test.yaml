# ==============================================================================
# üõ∞Ô∏è SpectraMind V50 ‚Äî Gradient Accumulation (TEST/INFERENCE)
# ------------------------------------------------------------------------------
# Purpose:
#   ‚Ä¢ Test/inference phase does not perform backward passes or optimizer steps.
#   ‚Ä¢ Gradient accumulation factor has no computational effect.
#   ‚Ä¢ Retained for Hydra completeness and symmetry with training/validation knobs.
# ------------------------------------------------------------------------------
# When to Use
#   ‚Ä¢ üö´ Default: 1 ‚Äî always one batch per step (no accumulation needed).
#   ‚Ä¢ ‚úÖ Only adjust >1 for:
#       ‚Äì Debugging config overrides in CI.
#       ‚Äì Ensuring Hydra sweep consistency across all phases.
#   ‚Ä¢ ‚ö†Ô∏è Does not alter effective batch size ‚Äî governed solely by `eval_batch_size`.
# ==============================================================================

accumulate_grad_batches: 1

notes: |
  Test/Inference loaders:
  ‚Ä¢ No gradient updates ‚Üí accumulation setting is inert.
  ‚Ä¢ Always keep =1 for clarity and to avoid confusion.
  ‚Ä¢ Effective batch size is determined exclusively by `data.eval_batch_size`.
  ‚Ä¢ This knob exists to preserve Hydra group symmetry and reproducibility:
      ‚Äì Prevents special-case handling in CLI/configs.
      ‚Äì Ensures logs (`v50_debug_log.md`) record consistent keys across phases.
  ‚Ä¢ Safe for CI smoke tests and Kaggle leaderboard runs.
